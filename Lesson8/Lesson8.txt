Task 1

	CREATE DATABASE Oline_Shop

	CREATE TABLE Online_Shop.Product
	(
		ProductID			INT PRIMARY KEY IDENTITY,
		Name				NVARCHAR(30) NOT NULL,
		Group				NVARCHAR(30) NOT NULL,
		Brand				NVARCHAR(30) NOT NULL,
		Model				NVARCHAR(30) NOT NULL,
		Color				NVARCHAR(30),
		Price				FLOAT NOT NULL,
		VendorPrice			FLOAT NOT NULL
	)

	CREATE TABLE Online_Shop.Vendor
	(
		VendorID			INT PRIMARY KEY IDENTITY,
		VendorID			NVARCHAR(30) NOT NULL,
		Name				NVARCHAR(30) NOT NULL,
		ActiveFlag			BIT NOT NULL,
		WebURL				NVARCHAR(150) UNIQUE,
		ModifiedeDate			DATE NOT NULL
	)


	CREATE TABLE Online_Shop.Client
	(
		ClientID			INT PRIMARY KEY IDENTITY,
		FirsrName			NVARCHAR(30) NOT NULL,
		LastName			NVARCHAR(30) NOT NULL,
		Gender				CHAR(1) NOT NULL,
		Birthday			DATE NOT NULL,
		PassportID			NVARCHAR(14) UNIQUE NOT NULL,
		TelNumber			NVARCHAR(13),
		Mail				AS CONCAT(UPPER(LEFT(FirstName,3)), LOWER(LEFT(LastName,3)), '@mail.com') PERSISTED 
	)

	CREATE TABLE Online_Shop.Delivery
	(
		DeliveryID			INT PRIMARY KEY IDENTITY,
		DeliveryType			NVARCHAR(30) NOT NULL
	)

	CREATE TABLE Online_Shop.Status
	(
		StatusID			INT PRIMARY KEY IDENTITY,
		Status				NVARCHAR(30) NOT NULL
	)

	CREATE TABLE Online_Shop.Pay
	(
		PayTypeID			INT PRIMARY KEY IDENTITY,
		PayType				NVARCHAR(30) NOT NULL
	)

	CREATE TABLE Online_Shop.Order
	(
		OrderID				INT PRIMARY KEY IDENTITY,
		ClientID			INT FOREIGN KEY,
		ProductID			INT FOREIGN KEY,		
		DeliveryID			INT FOREIGN KEY,
		VendorID			INT FOREIGN KEY,
		StatusID			INT FOREIGN KEY,
		PayTypeID			INT FOREIGN KEY,
		Quantity			INT,
		Orderdate			DATETIME,
		TotalPrice			FLOAT,
		StatusChange			DATE
	)


Task 2

1. Загружаем файл "Randomnames_1000" в формате "CSV" (полученный с сайта https://mockaroo.com/) в учебную базу:
- открыть MSQL --- правой кнопкой мыши нажимаем на БД "AdventureWorks2017" --- Tasks --- Import Flat File

2. Запускаем следующий скрипт:

	SELECT 
		CONCAT(RN1.first_name, ' ', RN2.last_name)
	FROM 
		Randomnames_1000 RN1, Randomnames_1000 RN2



Task 3

Для переиспользования когда и упрощения сложных длинных запросов с подзапросами. 

В отличие от подзапроса обобщённое табличное выражение WITH является временным не сохраняется где-либо на постоянной основе в схеме базы данных.
